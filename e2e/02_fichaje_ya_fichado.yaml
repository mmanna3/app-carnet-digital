appId: com.blueservant.edefi
---
# Flujo completo "ya fichado": home → intro → código equipo → DNI → confirmación
- launchApp
- tapOn:
    text: "Open"
    optional: true
- waitForAnimationToEnd
- tapOn:
    id: "card-fichaje"
# PantallaIntro
- assertVisible:
    id: "card-ya-fichado"
- tapOn:
    id: "card-ya-fichado"
# PasoCodigoEquipo (paso 1 de 3)
- assertVisible:
    id: "paso-codigo-equipo"
- tapOn:
    id: "input-codigo-equipo"
- inputText: "ABC123"
# En Android, hideKeyboard descarta el teclado y da tiempo al estado de actualizarse.
# No se usa en iOS porque KAV con padding ya muestra el botón sobre el teclado y
# hideKeyboard global causaría un tap accidental en el botón.
- runFlow:
    when:
      platform: Android
    commands:
      - hideKeyboard
# Espera explícita a que el botón esté habilitado antes de tocarlo
- extendedWaitUntil:
    visible:
      id: "boton-validar"
      enabled: true
    timeout: 5000
- tapOn:
    id: "boton-validar"
# PasoDni (paso 2 de 3)
- assertVisible:
    id: "paso-dni"
- tapOn:
    id: "input-dni"
- inputText: "12345678"
- runFlow:
    when:
      platform: Android
    commands:
      - hideKeyboard
- extendedWaitUntil:
    visible:
      id: "boton-continuar"
      enabled: true
    timeout: 5000
- tapOn:
    id: "boton-continuar"
# PantallaConfirmacion (paso 3 de 3)
- assertVisible:
    id: "pantalla-confirmacion"
