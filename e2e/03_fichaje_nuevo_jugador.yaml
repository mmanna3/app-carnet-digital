appId: com.blueservant.edefi
---
# Flujo "nuevo jugador": home → intro → código equipo → datos jugador
# (no se puede automatizar más allá porque el paso de foto requiere interacción nativa)
- launchApp
- tapOn:
    text: "Open"
    optional: true
- waitForAnimationToEnd
- tapOn:
    id: "card-fichaje"
# PantallaIntro
- assertVisible:
    id: "card-nuevo"
- tapOn:
    id: "card-nuevo"
# PasoCodigoEquipo (paso 1 de 5)
- assertVisible:
    id: "paso-codigo-equipo"
- tapOn:
    id: "input-codigo-equipo"
- inputText: "ABC123"
# En Android, hideKeyboard descarta el teclado y da tiempo al estado de actualizarse.
# No se usa en iOS porque KAV con padding ya muestra el botón sobre el teclado y
# hideKeyboard global causaría un tap accidental en el botón.
- runFlow:
    when:
      platform: Android
    commands:
      - hideKeyboard
# Espera explícita a que el botón esté habilitado antes de tocarlo
- extendedWaitUntil:
    visible:
      id: "boton-validar"
      enabled: true
    timeout: 5000
- tapOn:
    id: "boton-validar"
# PasoDatosJugador (paso 2 de 5)
- assertVisible:
    id: "paso-datos-jugador"
- tapOn:
    id: "input-nombre"
- inputText: "Juan"
- tapOn:
    id: "input-apellido"
- inputText: "Pérez"
- tapOn:
    id: "input-dni-jugador"
- inputText: "12345678"
- waitForAnimationToEnd
